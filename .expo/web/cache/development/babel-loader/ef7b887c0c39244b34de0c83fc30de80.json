{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport Constants, { ExecutionEnvironment } from 'expo-constants';\nimport { useMemo } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nexport function applyRequiredScopes() {\n  var scopes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var requiredScopes = arguments.length > 1 ? arguments[1] : undefined;\n  return _toConsumableArray(new Set([].concat(_toConsumableArray(scopes), _toConsumableArray(requiredScopes))));\n}\nexport function shouldUseProxy() {\n  return Platform.select({\n    web: false,\n    default: Constants.executionEnvironment === ExecutionEnvironment.StoreClient\n  });\n}\nexport function invariantClientId(idName, value, providerName) {\n  if (typeof value === 'undefined') throw new Error(\"Client Id property `\" + idName + \"` must be defined to use \" + providerName + \" auth on this platform.\");\n}\nexport function useProxyEnabled(redirectUriOptions) {\n  return useMemo(function () {\n    var _redirectUriOptions$u;\n\n    return (_redirectUriOptions$u = redirectUriOptions.useProxy) != null ? _redirectUriOptions$u : shouldUseProxy();\n  }, [redirectUriOptions.useProxy]);\n}","map":{"version":3,"mappings":";AAAA,OAAOA,SAAP,IAAoBC,oBAApB,QAAgD,gBAAhD;AACA,SAASC,OAAT,QAAwB,OAAxB;;AAKA,OAAM,SAAUC,mBAAV,GAA6E;EAAA,IAA/CC,MAA+C,uEAA5B,EAA4B;EAAA,IAAxBC,cAAwB;EAGjF,0BAAW,IAAIC,GAAJ,8BAAYF,MAAZ,sBAAuBC,cAAvB,GAAX;AACD;AAGD,OAAM,SAAUE,cAAV,GAAwB;EAC5B,OAAOC,QAAQ,CAACC,MAAT,CAAgB;IACrBC,GAAG,EAAE,KADgB;IAGrBC,OAAO,EAAEX,SAAS,CAACY,oBAAV,KAAmCX,oBAAoB,CAACY;EAH5C,CAAhB,CAAP;AAKD;AAED,OAAM,SAAUC,iBAAV,CAA4BC,MAA5B,EAA4CC,KAA5C,EAAwDC,YAAxD,EAA4E;EAChF,IAAI,OAAOD,KAAP,KAAiB,WAArB,EAEE,MAAM,IAAIE,KAAJ,0BACoBH,MADpB,iCACuDE,YADvD,6BAAN;AAGH;AAED,OAAM,SAAUE,eAAV,CACJC,kBADI,EAC+D;EAEnE,OAAOlB,OAAO,CACZ;IAAA;;IAAA,gCAAMkB,kBAAkB,CAACC,QAAzB,oCAAqCd,cAAc,EAAnD;EAAA,CADY,EAEZ,CAACa,kBAAkB,CAACC,QAApB,CAFY,CAAd;AAID","names":["Constants","ExecutionEnvironment","useMemo","applyRequiredScopes","scopes","requiredScopes","Set","shouldUseProxy","Platform","select","web","default","executionEnvironment","StoreClient","invariantClientId","idName","value","providerName","Error","useProxyEnabled","redirectUriOptions","useProxy"],"sourceRoot":"","sources":["../../src/providers/ProviderUtils.ts"],"sourcesContent":["import Constants, { ExecutionEnvironment } from 'expo-constants';\nimport { useMemo } from 'react';\nimport { Platform } from 'react-native';\n\nimport { AuthSessionRedirectUriOptions } from '../AuthSession';\n\nexport function applyRequiredScopes(scopes: string[] = [], requiredScopes: string[]): string[] {\n  // Add the required scopes for returning profile data.\n  // Remove duplicates\n  return [...new Set([...scopes, ...requiredScopes])];\n}\n\n// Only natively in the Expo client.\nexport function shouldUseProxy(): boolean {\n  return Platform.select({\n    web: false,\n    // Use the proxy in the Expo client.\n    default: Constants.executionEnvironment === ExecutionEnvironment.StoreClient,\n  });\n}\n\nexport function invariantClientId(idName: string, value: any, providerName: string) {\n  if (typeof value === 'undefined')\n    // TODO(Bacon): Add learn more\n    throw new Error(\n      `Client Id property \\`${idName}\\` must be defined to use ${providerName} auth on this platform.`\n    );\n}\n\nexport function useProxyEnabled(\n  redirectUriOptions: Pick<AuthSessionRedirectUriOptions, 'useProxy'>\n): boolean {\n  return useMemo(\n    () => redirectUriOptions.useProxy ?? shouldUseProxy(),\n    [redirectUriOptions.useProxy]\n  );\n}\n"]},"metadata":{},"sourceType":"module"}