{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { StatusBar } from 'expo-status-bar';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nWebBrowser.maybeCompleteAuthSession();\nexport default function App() {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      accessToken = _React$useState2[0],\n      setAccessToken = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      user = _React$useState4[0],\n      setUser = _React$useState4[1];\n\n  var _Google$useIdTokenAut = Google.useIdTokenAuthRequest({\n    expoClientId: \"884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\",\n    androidClientId: \"884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\",\n    webClientId: \"884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\"\n  }),\n      _Google$useIdTokenAut2 = _slicedToArray(_Google$useIdTokenAut, 3),\n      request = _Google$useIdTokenAut2[0],\n      response = _Google$useIdTokenAut2[1],\n      promptAsync = _Google$useIdTokenAut2[2];\n\n  React.useEffect(function () {\n    if ((response == null ? void 0 : response.type) === \"success\") {\n      setAccessToken(response.authentication.accessToken);\n      accessToken && fetchUserInfo();\n    }\n  }, [response, accessToken]);\n\n  function fetchUserInfo() {\n    return _fetchUserInfo.apply(this, arguments);\n  }\n\n  function _fetchUserInfo() {\n    _fetchUserInfo = _asyncToGenerator(function* () {\n      var response = yield fetch(\"https://www.googleapis.com/userinfo/v2/me\", {\n        headers: {\n          Authorization: \"Bearer \" + accessToken\n        }\n      });\n      var useInfo = yield response.json();\n      setUser(useInfo);\n    });\n    return _fetchUserInfo.apply(this, arguments);\n  }\n\n  var ShowUserInfo = function ShowUserInfo() {\n    if (user) {\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 35,\n            fontWeight: 'bold',\n            marginBottom: 20\n          },\n          children: \"Bienvenido\"\n        }), _jsx(Image, {\n          source: {\n            uri: user.picture\n          },\n          style: {\n            width: 100,\n            height: 100,\n            borderRadius: 50\n          }\n        }), _jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: 'bold'\n          },\n          children: user.name\n        })]\n      });\n    }\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.titulo,\n      children: \"SOFY\"\n    }), _jsx(Text, {\n      style: styles.subTitulo,\n      children: \"Sign in to your account\"\n    }), _jsx(TextInput, {\n      style: styles.textInput,\n      placeholder: \"correo@correo.com\"\n    }), _jsx(TextInput, {\n      style: styles.textInput,\n      placeholder: \"password\"\n    }), user && _jsx(ShowUserInfo, {}), user === null && _jsxs(_Fragment, {\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 35,\n          fontWeight: 'bold'\n        },\n        children: \"Bienvenido!\"\n      }), _jsx(Text, {\n        style: {\n          fontSize: 25,\n          fontWeight: 'bold',\n          marginBottom: 20,\n          color: 'gray'\n        },\n        children: \"Inicia sesi\\xF3n\"\n      }), _jsxs(TouchableOpacity, {\n        disabled: !request,\n        onPress: function onPress() {\n          promptAsync();\n        },\n        children: [_jsx(Text, {\n          children: \"Usuario\"\n        }), _jsx(Text, {\n          children: \"Contrase\\xF1a\"\n        }), _jsx(Button, {\n          title: accessToken ? \"Get User Data\" : \"Inicia con Google\",\n          onPress: accessToken ? getUserData : function () {\n            promptAsync({\n              useProxy: false,\n              showInRecents: true\n            });\n          }\n        }), _jsx(StatusBar, {\n          style: \"auto\"\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f1f1f1',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  titulo: {\n    fontSize: 90,\n    color: '#34434D',\n    fontWeight: 'bold'\n  },\n  subTitulo: {\n    fontSize: 20,\n    color: 'gray'\n  },\n  textInput: {\n    padding: 10,\n    paddingStart: 30,\n    width: '80%',\n    height: 50,\n    marginTop: 20,\n    borderRadius: 30,\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"names":["React","WebBrowser","Google","StatusBar","maybeCompleteAuthSession","App","useState","accessToken","setAccessToken","user","setUser","useIdTokenAuthRequest","expoClientId","androidClientId","webClientId","request","response","promptAsync","useEffect","type","authentication","fetchUserInfo","fetch","headers","Authorization","useInfo","json","ShowUserInfo","flex","alignItems","justifyContent","fontSize","fontWeight","marginBottom","uri","picture","width","height","borderRadius","name","styles","container","titulo","subTitulo","textInput","color","getUserData","useProxy","showInRecents","StyleSheet","create","backgroundColor","padding","paddingStart","marginTop"],"sources":["C:/Users/Windows 10/Tareas/CICLO_10/SEMINARIO_DE_TECNOLOGIAS_DE_INFORMACION/PROYECTO/CODIGO/proySeminario2022/sofy/App.js"],"sourcesContent":["import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View, Image, TouchableOpacity, Button, TextInput } from 'react-native';\n\n// expo web: 884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\n// android: 884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\n// web: 884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\n\nWebBrowser.maybeCompleteAuthSession();\n\nexport default function App() {\n  const [accessToken, setAccessToken] = React.useState(null);\n  const [user, setUser] = React.useState(null);\n  const [request, response, promptAsync] = Google.useIdTokenAuthRequest({\n    expoClientId: \"884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\", \n    androidClientId: \"884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\",\n    webClientId: \"884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\"\n  });\n\n  // este ayuda para cuando el usuario inicia la aplicacion veamos si el usuario tienen una sesion o no \n  React.useEffect(() => {\n    if(response?.type === \"success\"){\n      setAccessToken(response.authentication.accessToken);\n      accessToken && fetchUserInfo();\n    }\n  }, [response, accessToken])\n\n  async function fetchUserInfo() {\n    let response = await fetch(\"https://www.googleapis.com/userinfo/v2/me\", {\n      headers: { Authorization: `Bearer ${accessToken}` }\n    });\n    const useInfo = await response.json();\n    setUser(useInfo);\n  }\n\n  const ShowUserInfo = () => {\n    if(user) {\n      return (\n        <View style={{flex: 1, alignItems: 'center', justifyContent: 'center'}}>\n          <Text style={{fontSize: 35, fontWeight: 'bold', marginBottom: 20}}>Bienvenido</Text>\n          <Image source={{uri: user.picture}} style={{width: 100, height: 100, borderRadius: 50}} />\n          <Text style={{fontSize: 20, fontWeight: 'bold'}}>{user.name}</Text>\n        </View>\n      )\n    }\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.titulo}>SOFY</Text>\n      <Text style={styles.subTitulo}>Sign in to your account</Text>\n      <TextInput\n        style={styles.textInput}\n        placeholder=\"correo@correo.com\"\n      />\n      <TextInput\n        style={styles.textInput}\n        placeholder=\"password\"\n      />\n\n      {user && <ShowUserInfo />}\n      {user === null &&\n          <>\n          <Text style={{fontSize: 35, fontWeight: 'bold'}}>Bienvenido!</Text>\n          <Text style={{fontSize: 25, fontWeight: 'bold', marginBottom: 20, color: 'gray'}}>Inicia sesión</Text>\n        <TouchableOpacity\n          disabled={!request}\n          onPress={() => {\n            promptAsync();\n            }} \n        >\n          <Text>Usuario</Text>\n          <Text>Contraseña</Text>\n\n          <Button\n          title={accessToken ? \"Get User Data\" : \"Inicia con Google\"}\n          onPress={accessToken ? getUserData : () => { promptAsync({useProxy: false, showInRecents: true}) }}\n          />\n          <StatusBar style=\"auto\" />\n\n        </TouchableOpacity>\n        </>\n      }\n    </View>\n  );\n}\n\n// <Image source={require(\"./login.png\")} style={{width: 300, height: 40}} />\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f1f1f1',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  titulo: {\n    fontSize: 90,\n    color: '#34434D',\n    fontWeight: 'bold'\n  },\n  subTitulo: {\n    fontSize: 20,\n    color: 'gray'\n  },\n  textInput: {\n    padding: 10,\n    paddingStart: 30,\n    width: '80%',\n    height: 50,\n    marginTop: 20,\n    borderRadius: 30,\n    backgroundColor: '#fff'\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}