{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { StatusBar } from 'expo-status-bar';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Svg, { Path, Defs, LinearGradient, Stop } from \"react-native-svg\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nWebBrowser.maybeCompleteAuthSession();\nexport default function App() {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      accessToken = _React$useState2[0],\n      setAccessToken = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      user = _React$useState4[0],\n      setUser = _React$useState4[1];\n\n  var _Google$useIdTokenAut = Google.useIdTokenAuthRequest({\n    expoClientId: \"884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\",\n    androidClientId: \"884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\",\n    webClientId: \"884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\"\n  }),\n      _Google$useIdTokenAut2 = _slicedToArray(_Google$useIdTokenAut, 3),\n      request = _Google$useIdTokenAut2[0],\n      response = _Google$useIdTokenAut2[1],\n      promptAsync = _Google$useIdTokenAut2[2];\n\n  React.useEffect(function () {\n    if ((response == null ? void 0 : response.type) === \"success\") {\n      setAccessToken(response.authentication.accessToken);\n      accessToken && fetchUserInfo();\n    }\n  }, [response, accessToken]);\n\n  function fetchUserInfo() {\n    return _fetchUserInfo.apply(this, arguments);\n  }\n\n  function _fetchUserInfo() {\n    _fetchUserInfo = _asyncToGenerator(function* () {\n      var response = yield fetch(\"https://www.googleapis.com/userinfo/v2/me\", {\n        headers: {\n          Authorization: \"Bearer \" + accessToken\n        }\n      });\n      var useInfo = yield response.json();\n      setUser(useInfo);\n    });\n    return _fetchUserInfo.apply(this, arguments);\n  }\n\n  var ShowUserInfo = function ShowUserInfo() {\n    if (user) {\n      return _jsxs(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 35,\n            fontWeight: 'bold',\n            marginBottom: 20\n          },\n          children: \"Bienvenido\"\n        }), _jsx(Image, {\n          source: {\n            uri: user.picture\n          },\n          style: {\n            width: 100,\n            height: 100,\n            borderRadius: 50\n          }\n        }), _jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: 'bold'\n          },\n          children: user.name\n        })]\n      });\n    }\n  };\n\n  var SvgFondoBlanco = function SvgFondoBlanco(props) {\n    return _jsx(Svg, _objectSpread(_objectSpread({\n      width: 350,\n      height: 800,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, props), {}, {\n      children: _jsx(Path, {\n        d: \"M0 50C0 22.386 22.386 0 50 0h300v800H50c-27.614 0-50-22.386-50-50V50Z\",\n        fill: \"#fff\"\n      })\n    }));\n  };\n\n  return _jsxs(View, {\n    style: styles.mainContainer,\n    children: [_jsx(View, {\n      style: styles.containerSVG,\n      children: _jsx(SvgFondoBlanco, {})\n    }), _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.titulo,\n        children: \"BIENVENIDO\"\n      }), _jsx(Text, {\n        style: styles.subTitulo,\n        children: \"Login\"\n      }), _jsx(TextInput, {\n        placeholder: \"Email\",\n        style: styles.textInput\n      }), _jsx(TextInput, {\n        placeholder: \"Contrase\\xF1a\",\n        style: styles.textInput\n      }), user && _jsx(ShowUserInfo, {}), user === null && _jsx(_Fragment, {\n        children: _jsxs(TouchableOpacity, {\n          disabled: !request,\n          onPress: function onPress() {\n            promptAsync();\n          },\n          children: [_jsx(Button, {\n            title: accessToken ? \"Get User Data\" : \"Inicia con Google\",\n            onPress: accessToken ? getUserData : function () {\n              promptAsync({\n                useProxy: false,\n                showInRecents: true\n              });\n            },\n            style: {\n              marginBottom: 20\n            }\n          }), _jsx(StatusBar, {\n            style: \"auto\"\n          })]\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  mainContainer: {\n    backgroundColor: 'red',\n    alignItems: 'center',\n    flex: 1,\n    zIndex: 1,\n    position: 'relative'\n  },\n  container: {\n    marginTop: '50%',\n    zIndex: 3,\n    position: 'absolute',\n    backgroundColor: '#FFFFFF'\n  },\n  containerSVG: {\n    alignItems: 'flex-end',\n    width: '100%',\n    height: '80%',\n    zIndex: 2,\n    position: 'absolute'\n  },\n  titulo: {\n    fontSize: 40,\n    color: '#FB8C00',\n    fontWeight: 'bold'\n  },\n  subTitulo: {\n    fontSize: 20,\n    color: '#FB8C00',\n    marginTop: 100,\n    marginBottom: 50\n  },\n  textInput: {\n    padding: 10,\n    paddingStart: 30,\n    borderColor: '#FDD835',\n    borderWidth: 3,\n    width: '100%',\n    height: 50,\n    marginTop: 20,\n    borderTopLeftRadius: 10,\n    borderBottomRightRadius: 10\n  }\n});","map":{"version":3,"names":["React","WebBrowser","Google","StatusBar","Svg","Path","Defs","LinearGradient","Stop","maybeCompleteAuthSession","App","useState","accessToken","setAccessToken","user","setUser","useIdTokenAuthRequest","expoClientId","androidClientId","webClientId","request","response","promptAsync","useEffect","type","authentication","fetchUserInfo","fetch","headers","Authorization","useInfo","json","ShowUserInfo","flex","alignItems","justifyContent","fontSize","fontWeight","marginBottom","uri","picture","width","height","borderRadius","name","SvgFondoBlanco","props","styles","mainContainer","containerSVG","container","titulo","subTitulo","textInput","getUserData","useProxy","showInRecents","StyleSheet","create","backgroundColor","zIndex","position","marginTop","color","padding","paddingStart","borderColor","borderWidth","borderTopLeftRadius","borderBottomRightRadius"],"sources":["C:/Users/Windows 10/Tareas/CICLO_10/SEMINARIO_DE_TECNOLOGIAS_DE_INFORMACION/PROYECTO/CODIGO/proySeminario2022/sofy/App.js"],"sourcesContent":["import * as React from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View, Image, TouchableOpacity, Button, TextInput } from 'react-native';\nimport Svg, { Path, Defs, LinearGradient, Stop } from \"react-native-svg\"\n\n// expo web: 884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\n// android: 884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\n// web: 884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\n\nWebBrowser.maybeCompleteAuthSession();\n\nexport default function App() {\n  const [accessToken, setAccessToken] = React.useState(null);\n  const [user, setUser] = React.useState(null);\n  const [request, response, promptAsync] = Google.useIdTokenAuthRequest({\n    expoClientId: \"884256678652-eetcjdolhpfhugi9996e38701oed1n79.apps.googleusercontent.com\",\n    androidClientId: \"884256678652-r4hh05053ps31ukbrv1ilcf5868go8n9.apps.googleusercontent.com\",\n    webClientId: \"884256678652-4i9ba4og3chkvbkuu24s75npv1c4bhup.apps.googleusercontent.com\"\n  });\n\n  // este ayuda para cuando el usuario inicia la aplicacion veamos si el usuario tienen una sesion o no \n  React.useEffect(() => {\n    if (response?.type === \"success\") {\n      setAccessToken(response.authentication.accessToken);\n      accessToken && fetchUserInfo();\n    }\n  }, [response, accessToken])\n\n  async function fetchUserInfo() {\n    let response = await fetch(\"https://www.googleapis.com/userinfo/v2/me\", {\n      headers: { Authorization: `Bearer ${accessToken}` }\n    });\n    const useInfo = await response.json();\n    setUser(useInfo);\n  }\n\n  const ShowUserInfo = () => {\n    if (user) {\n      return (\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n          <Text style={{ fontSize: 35, fontWeight: 'bold', marginBottom: 20 }}>Bienvenido</Text>\n          <Image source={{ uri: user.picture }} style={{ width: 100, height: 100, borderRadius: 50 }} />\n          <Text style={{ fontSize: 20, fontWeight: 'bold' }}>{user.name}</Text>\n        </View>\n      )\n    }\n  }\n\n  const SvgFondoBlanco = (props) => (\n    <Svg\n      width={350}\n      height={800}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <Path\n        d=\"M0 50C0 22.386 22.386 0 50 0h300v800H50c-27.614 0-50-22.386-50-50V50Z\"\n        fill=\"#fff\"\n      />\n    </Svg>\n  );\n\n  return (\n    <View style={styles.mainContainer}>\n      <View style={styles.containerSVG}>\n        <SvgFondoBlanco />\n      </View>\n      <View style={styles.container}>\n        <Text style={styles.titulo}>BIENVENIDO</Text>\n        <Text style={styles.subTitulo}>Login</Text>\n        <TextInput\n          placeholder=\"Email\"\n          style={styles.textInput}\n        />\n        <TextInput\n          placeholder=\"Contraseña\"\n          style={styles.textInput}\n        />\n\n        {user && <ShowUserInfo />}\n        {user === null &&\n          <>\n            <TouchableOpacity\n              disabled={!request}\n              onPress={() => {\n                promptAsync();\n              }}\n            >\n\n              <Button\n                title={accessToken ? \"Get User Data\" : \"Inicia con Google\"}\n                onPress={accessToken ? getUserData : () => { promptAsync({ useProxy: false, showInRecents: true }) }}\n                style={ { marginBottom: 20 } }\n\n              />\n              <StatusBar style=\"auto\" />\n\n            </TouchableOpacity>\n          </>\n        }\n      </View>\n    </View>\n  );\n}\n\n// <Image source={require(\"./login.png\")} style={{width: 300, height: 40}} />\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    backgroundColor: 'red',\n    alignItems: 'center',\n    flex: 1,\n    zIndex: 1,\n    position: 'relative'\n  },\n  container: {\n    marginTop: '50%',\n    zIndex: 3,\n    position: 'absolute',\n    backgroundColor: '#FFFFFF'\n  },\n  containerSVG: {\n    alignItems: 'flex-end',\n    width: '100%',\n    height: '80%',\n    zIndex: 2,\n    position: 'absolute'\n  },\n  titulo: {\n    fontSize: 40,\n    color: '#FB8C00',\n    fontWeight: 'bold'\n  },\n  subTitulo: {\n    fontSize: 20,\n    color: '#FB8C00',\n    marginTop: 100,\n    marginBottom: 50\n  },\n  textInput: {\n    padding: 10,\n    paddingStart: 30,\n    borderColor: '#FDD835',\n    borderWidth: 3,\n    width: '100%',\n    height: 50,\n    marginTop: 20,\n    borderTopLeftRadius: 10,\n    borderBottomRightRadius: 10\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}